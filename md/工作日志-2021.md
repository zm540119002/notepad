# 工作计划

```
即是当日工作任务编排。以要点方式记录每日要完成的工作任务。一般按时间安排来写，也可以按重要性次序来写。注意几种任务的时间编排，以提高工作效率：
    1、可控性的工作按重要、次重要的先后排序；
    2、不可控性的，紧迫性优先。
    3、外勤任务考虑车程、路线来统筹时间安排。
    4、预约的事务应予按时到达，编排时间提前量。
    5、若分不清重要与次重要任务，可先罗列，适时调整。
```

## 系统后续规划

```
1 研究pg数据库是否支持集群部署，编写部署脚本
2 增加hive数据源支持，使系统可以同时选择使用pg或者hive
3 根据数据仓库建设规范，对数据源，数据表，指标命名增加检查规则（dw ods dm）
4 研究实时数据处理，接入更多数据挖掘方案，讨论大数据情况下做数据挖掘
5 数据可视化
6 数据治理其它系统建设，如血缘分析，数据周期管理。分析其它成熟的数据治理项目有什么借鉴的。
```

# 工作备忘

```
1、工作过程中出现的问题。
2、执行任务中的偏差。
3、结论性，关键性的问题。
4、需寻求支持、请示的问题。
5、领导交办的事项。
6、其他杂七杂八的需记录以免遗漏的事项。
```

## 近期计划

```
LOF局部异常因子算法在异常检测中的搭建-后端接口
 
数据表需要增加周期属性，在标准配置、生成数据节点需要增加周期属性属性。
现在数据表其实已经有周期字段了，只是之前一直没登记，用了默认值。
tb_uc_cfg_ds.data_date_unit

更新完毕检测方式之前配置后没用上，需要增加对应功能。如果任务引用的数据表，当期数据没准备好，任务节点暂时不执行。
实现：
    需要将引用的数据表登记在tb_uc_cfg_etl_task.depend_ds
    需要将数据表修改后登记tb_uc_log_ds_ready
    在分配配置时，需要根据tb_uc_cfg_etl_task.depend_ds生成tb_uc_task_depend
    调度时，在判断治理点是否可以运行，增加一个条件，查询对应的数据表和周期在tb_uc_log_ds_ready里面是否有成功记录
    任务调度完成后要登记tb_uc_log_ds_ready

需要考虑的问题：
    1 周期类型不同，怎么搞
    2 如果治理点需要取的是上周期数据怎么办
    3 不需要采集的表怎么办

数据表结构变更后，没有同步修改数据库里面根据旧结构建的表，导致任务再次运行时可能会有异常。
可以考虑检查一下目标数据库是否存在表，表结构是否有变化（如果是删除字段则报错，如果是新增字段则直接add）

一崇 张敏 
```

# 每日小结

```
包括评价、心得、体会、经验等。经验来源于实践，及时小结，自我提炼出工作模式，工作方法，或者人生哲理等等。可以是自己领悟出来的，也可以是从他人获知的。不一定每天都写，但一有所感悟最好马上记录下来，日积月累，这些将是人生的宝贵经验，智慧的精华。
```

## 2021-07-19

```
1 动态阈值时序预测功能，现在只完成了一种算法（指数平滑）配置保存与调用功能
2 需要根据剩下的算法接口确定配置保存与数据存储方式。最好复用代码。
3 python服务需要测试一下部署到arm环境会不会异常
暂定张敏
com.htgx.govern.common.dboper.service.rule.impl.RuleNodeMngServiceImpl#analysisDynamic
com.htgx.baop.task.sched.service.impl.DynamicServiceImpl#execOneTaskSchedReal


```

